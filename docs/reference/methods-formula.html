<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract GARCH model formula — formula-methods • fGarch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract GARCH model formula — formula-methods"><meta name="description" content="

Extracts formula from a formula GARCH object."><meta property="og:description" content="

Extracts formula from a formula GARCH object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fGarch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4040.92.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract GARCH model formula</h1>

      <div class="d-none name"><code>methods-formula.Rd</code></div>
    </div>

    <div class="ref-description section level2">


<p>Extracts formula from a formula GARCH object.</p>
    </div>


    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    <p>Methods for <code>formula</code> defined in package <span class="pkg">fGarch</span>:</p><dl><dt>object = "fGARCH"</dt>
<dd><p>Extractor function for formula expression.</p></dd>



</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<p><code>formula</code> is a generic function which extracts the formula
  expression from objects returned by modeling functions.</p>
<p>The <code>"fGARCH"</code> method extracts the <code>@formula</code> expression
  slot from an object of class <code>"fGARCH"</code> as returned by the
  function <code>garchFit</code>.</p>
<p>The returned formula has always a left hand side. If the argument
  <code>data</code> was an univariate time series and no name was specified to
  the series, then the left hand side is assigned the name of the
  data.set. In the multivariate case the rectangular <code>data</code> object
  must always have column names, otherwise the fitting will be stopped
  with an error message</p>
<p>The class of the returned value depends on the input to the
    function <code>garchFit</code> who created the object. The returned
    value is always of the same class as the input object to the
    argument <code>data</code> in the function <code>garchFit</code>, i.e. if
    you fit a <code>"timeSeries"</code> object, you will get back from
    the function <code>fitted</code> also a <code>"timeSeries"</code> object,
    if you fit an object of class <code>"zoo"</code>, you will get back
    again a <code>"zoo"</code> object. The same holds for a <code>"numeric"</code>
    vector, for a <code>"data.frame"</code>, and for objects of class
    <code>"ts", "mts"</code>.</p>
<p>In contrast, the slot itself returns independent of the class
    of the data input always a numeric vector, i.e. the function
    call r<code>slot(object, "fitted")</code> will return a numeric vector.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>


<p>(GNB) Contrary to the description of the returned value of the
  <code>"fGARCH"</code> method, it is always <code>"numeric"</code>.</p>
<p>TODO: either implement the documented behaviour or fix the
  documentation.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Diethelm Wuertz for the Rmetrics <span style="R">R</span>-port</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="garchFit.html">garchFit</a></code>,
  class <code><a href="class-fGARCH.html">fGARCH</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="garchFit.html">garchFit</a></span><span class="op">(</span><span class="op">~</span><span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="fu"><a href="garchSim.html">garchSim</a></span><span class="op">(</span><span class="op">)</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>   </span></span>
<span class="r-in"><span><span class="fu">formula</span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data ~ garch(1, 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data = garchSim()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x5c825ea53520&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A Bivariate series and mis-specified formula:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="garchSim.html">garchSim</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="garchSim.html">garchSim</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "garch.1" "garch.2"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "timeSeries"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"package")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "timeSeries"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="garchFit.html">garchFit</a></span><span class="op">(</span><span class="va">z</span> <span class="op">~</span><span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">z</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># Returns:</span></span></span>
<span class="r-in"><span><span class="co"># Error in .garchArgsParser(formula = formula, data = data, trace = FALSE) :  </span></span></span>
<span class="r-in"><span><span class="co">#   Formula and data units do not match.</span></span></span>
<span class="r-in"><span>   </span></span>
<span class="r-in"><span><span class="co">## Doubled column names in data set - formula can't fit:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"x"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GMT </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        x             x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-01 -0.0009479484  7.362291e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-02  0.0030573851  3.241022e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-03  0.0046413667  3.294819e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-04  0.0014175724 -2.040258e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-05 -0.0003273780 -7.098226e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-06  0.0020663036  1.077096e-04</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="garchFit.html">garchFit</a></span><span class="op">(</span><span class="va">x</span> <span class="op">~</span><span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">z</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># Again the error will be noticed:</span></span></span>
<span class="r-in"><span><span class="co"># Error in garchFit(x ~ garch(1, 1), data = z) : </span></span></span>
<span class="r-in"><span><span class="co">#   Column names of data are not unique.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Missing column names in data set - formula can't fit:</span></span></span>
<span class="r-in"><span><span class="va">z.mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">z.mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">z.mat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     [,1]          [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-01 -0.0009479484  7.362291e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-02  0.0030573851  3.241022e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-03  0.0046413667  3.294819e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-04  0.0014175724 -2.040258e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-05 -0.0003273780 -7.098226e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024-07-06  0.0020663036  1.077096e-04</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="garchFit.html">garchFit</a></span><span class="op">(</span><span class="va">x</span> <span class="op">~</span> <span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">z.mat</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># Again the error will be noticed:</span></span></span>
<span class="r-in"><span><span class="co"># Error in .garchArgsParser(formula = formula, data = data, trace = FALSE) : </span></span></span>
<span class="r-in"><span><span class="co">#   Formula and data units do not match</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Diethelm Wuertz, Yohan Chalabi, Tobias Setz, Martin Maechler, Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

