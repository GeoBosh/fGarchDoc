<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="

Produce diagnostics for fitted GARCH/APARCH models. The method offers
  several tests, plots of autocorrelations and partial autocorrelations
  of the standardised conditional residuals, ability to control which
  graphs are produced (including interactively), as well as their
  layout."><title>Diagnostic plots and statistics for fitted GARCH models — stats-tsdiag • fGarch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diagnostic plots and statistics for fitted GARCH models — stats-tsdiag"><meta property="og:description" content="

Produce diagnostics for fitted GARCH/APARCH models. The method offers
  several tests, plots of autocorrelations and partial autocorrelations
  of the standardised conditional residuals, ability to control which
  graphs are produced (including interactively), as well as their
  layout."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fGarch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4040.92.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Diagnostic plots and statistics for fitted GARCH models</h1>
      
      <div class="d-none name"><code>stats-tsdiag.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    

<p>Produce diagnostics for fitted GARCH/APARCH models. The method offers
  several tests, plots of autocorrelations and partial autocorrelations
  of the standardised conditional residuals, ability to control which
  graphs are produced (including interactively), as well as their
  layout.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for fGARCH</span></span>
<span><span class="fu">tsdiag</span><span class="op">(</span><span class="va">object</span>, gof.lag <span class="op">=</span> <span class="cn">NULL</span>, ask <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span>, plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4L</span>, <span class="fl">5L</span>, <span class="fl">7L</span><span class="op">)</span>, </span>
<span>       layout <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>an object from class <code>"fGARCH"</code>, as returned by
    <code><a href="garchFit.html">garchFit</a></code>.</p></dd>

  <dt>gof.lag</dt>
<dd><p>maximal lag for portmanteau tests.</p></dd>

  <dt>ask</dt>
<dd><p>if <code>TRUE</code> present a menu of available plots, see Details.</p></dd>

  <dt>...</dt>
<dd><p>not used.</p></dd>

  <dt>plot</dt>
<dd><p>if <code>TRUE</code> all available plots; a vector of positive integers
    specifies a subset of the available plots.</p></dd>

  <dt>layout</dt>
<dd><p>a list with arguments for <code><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">graphics::layout</a></code> for the plots. The
    default plots the autocorrelations of the standardised conditional
    residuals and their squares, as well as a QQ-plot for the fitted
    conditional distribution.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    

<p>Compute and graph diagnostics for fitted ARMA-GARCH/APARCH models.</p>
<p><!-- % The method offers several portmanteau tests (including Ljung-Box, -->
  <!-- % Li-McLeod and Box-Pierce), plots of autocorrelations and partial -->
  <!-- % autocorrelations of the residuals, ability to control which graphs are -->
  <!-- % produced (including interactively), as well as their layout. -->
  <!-- %  -->
  <!-- % The method always makes a correction of the degrees of freedom of the -->
  <!-- % portmanteau tests (roughly, subtracting the number of estimated ARMA -->
  <!-- % parameters). Note that \code{stats::tsdiag} doesn't do that. --></p>
<p><code>plot</code> can be <code>TRUE</code> to ask for all plots or a vector of
  positive integers specifying which plots to consider. Currently the
  following options are available:
  </p><table class="table table"><tr><td>1</td><td>Residuals</td></tr><tr><td>2</td><td>Conditional SDs</td></tr><tr><td>3</td><td>Standardized Residuals</td></tr><tr><td>4</td><td>ACF of Standardized Residuals</td></tr><tr><td>5</td><td>ACF of Squared Standardized Residuals</td></tr><tr><td>6</td><td>Cross Correlation between r^2 and r</td></tr><tr><td>7</td><td>QQ-Plot of Standardized Residuals</td></tr></table> The
  default produces plots of autocorrelations and partial
  autocorrelations of the standardised conditional residuals, as well as
  a QQ-plot for the fitted conditional distribution.  If <code>plot</code> is
  <code>TRUE</code>, you probably need also <code>ask = TRUE</code>.
<p>If argument <code>plot</code> is of length two the graphics window is split
  into 2 equal subwindows. Argument <code>layout</code> can still be used to
  change this.  If argument <code>plot</code> is of length one the graphics
  window is not split at all.</p>  
<p>In interactive sessions, if the number of requested graphs (as
  specified by argument <code>plot</code>) is larger than the number of graphs
  specified by the layout (by default 3), the function makes the first
  graph and then presents a menu of the requested plots.</p>
<p>Argument <code>layout</code> can be used to change the layout of the plot,
  for example to put two graphs per plot, see the examples. Currently it
  should be a list of arguments for <code><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></code>, see <code><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">?layout</a></code>.
  Don't call <code>layout</code> youself, as that will change the graphics
  device prematurely.</p>  
<p>The computed results are returned (invisibly). This is another
  difference from <code><a href="https://rdrr.io/r/stats/tsdiag.html" class="external-link">stats::tsdiag</a></code> which doesn't return them.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>(experimental, may change)
  a list with components:</p>
<dl><dt>residuals</dt>
<dd><p>standardised conditional residuals,</p></dd>

  <dt>gof</dt>
<dd>

<p>goodness-of-fit tests, pretending parameters are known,</p>
<p></p></dd>

  <dt>gof_composite</dt>
<dd>

<p>goodness-of-fit tests taking into account that the parameters are
    estimated.</p>
<p></p></dd>


</dl><p>Only components that are actually computed are included, the rest are
  NULL or absent.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Georgi N. boshnakov</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="methods-plot.html">fGARCH</a></code> method for <code>plot</code>,</p>
<p><code><a href="https://rdrr.io/r/stats/tsdiag.html" class="external-link">tsdiag</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">20230612</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="garchSim.html">garchSim</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="garchFit.html">garchFit</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="op">~</span> <span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">x</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit_test</span> <span class="op">&lt;-</span> <span class="fu">tsdiag</span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="stats-tsdiag-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">fit_test</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gof:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  statistic   p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Anderson-Darling 3.1812694 0.2750755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cramer-vonMises  0.6032679 0.2521133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gof_composite:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   statistic   p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Anderson-Darling 0.38205009 0.8661955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cramer-vonMises  0.04694483 0.8950729</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## 2x2 matrix with acf of r, r^2 on diag, cor(r,r^2) below it, and qq-plot</span></span></span>
<span class="r-in"><span><span class="fu">tsdiag</span><span class="op">(</span><span class="va">fit</span>, plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">5</span><span class="op">)</span>, layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="stats-tsdiag-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Diethelm Wuertz, Yohan Chalabi, Tobias Setz, Martin Maechler, Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

